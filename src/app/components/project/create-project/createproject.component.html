<div id="create-project-component" class="card mat-elevation-z2">
    <div class="card-header" id="title-form">
        Crear Proyecto
    </div>
    <div class="card-body">
        <form #createProjectForm="ngForm">
            <div class="row " style="justify-content: center;">
                <div class="col-lg-2">
                    <label for="titlleProject">Titulo del proyecto
                    </label>
                </div>
                <div class="col-lg-3">
                    <textarea class="ui-inputtext col-10 border " name="textTitleProject" type="text"
                        id="textTitleProject" #titleProject="ngModel" [(ngModel)]="titleProjectModel" pattern="[a-zA-Z]*" required ></textarea>
                        <br>
                        <small *ngIf="titleProject.invalid && titleProject.touched"
                        class="alert-danger p-2 rounded">
                        <span *ngIf="titleProject.errors?.['required']" class="required">No puede ser vacio.</span>
                        <small *ngIf="titleProject.errors?.['pattern']" class="required">Formato inválido</small>
                    </small>
                </div>
                <div class="col-lg-2">
                    <label for="projectDirector">Director del proyecto
                    </label>
                </div>
                <div class="col-lg-3">
                    <select name="selectDirector" class="select-text" id="selectDirector" 
                    (change)="valueChange($event)" [(ngModel)]="selectedDirectorModel" #selectedDirector="ngModel" required>
                        <option class="dropdown-item" disabled selected value="undefined"></option>
                        <option *ngFor="let option of userListProfile;let x = index" class="dropdown-item">
                            {{option.firtsName}} {{option.surname}}
                        </option>
                    </select>
                    <br>
                        <small *ngIf="selectedDirector.invalid && selectedDirector.touched"
                        class="alert-danger p-2 rounded">
                        <span *ngIf="selectedDirector.errors?.['required']" class="required">No puede ser vacio.</span>
                    </small>
                </div>
            </div>
            <br>
            <div class="row " style="justify-content: center;">
                <div class="col-lg-2">
                    <label for="problemInvestigation">Problema u objeto de investigacion
                    </label>
                </div>
                <div class="col-lg-3">
                    <textarea class="ui-inputtext col-lg-10 border " name="textProblemInvestigation"
                        id="textProblemInvestigation"></textarea>
                </div>
                <div class="col-lg-2">
                    <label for="justification">Justificacion
                    </label>
                </div>
                <div class="col-lg-3">
                    <textarea class="ui-inputtext col-10 border " name="textJustification"
                        id="textJustification"></textarea>
                </div>
            </div>
            <br>
            <div class="row " style="justify-content: center;">
                <div class="col-lg-2">
                    <label for="generalObjetive">Objetivo General
                    </label>
                </div>
                <div class="col-lg-3">
                    <textarea class="ui-inputtext col-10 border " name="textGeneralObjetive"
                        id="textGeneralObjetive"></textarea>
                </div>
                <div class="col-lg-2">
                    <label for="dateFrom">Fecha inicio
                    </label>
                </div>
                <div class="col-lg-3">
                    <div class="ui-inputgroup pb-2">
                        <span class="ui-inputgroup-addon"><em class="pi pi-calendar"></em></span>
                        <input matInput [matDatepicker]="dateFrom" name="dateFrom" id="dateFrom"
                            placeholder="Seleccione la fecha" class="ui-inputtext border" required [readonly]="true">
                        <mat-datepicker-toggle matSuffix [for]="dateFrom" id="dpt-dateFrom">
                        </mat-datepicker-toggle>
                        <mat-datepicker #dateFrom disabled="false" id="date-pickerDateFrom"></mat-datepicker>
                    </div>
                </div>
            </div>
            <br>
            <div class="row " style="justify-content: center;">
                <div class="col-lg-2">
                    <label for="summary">Resumen de la propuesta
                    </label>
                </div>
                <div class="col-lg-3">
                    <textarea class="ui-inputtext col-10 border " name="textSummary" id="textSummary"></textarea>
                </div>
                <div class="col-lg-2">
                    <label for="dateUntil">Fecha fin
                    </label>
                </div>
                <div class="col-lg-3">
                    <div class="ui-inputgroup pb-2">
                        <span class="ui-inputgroup-addon"><em class="pi pi-calendar"></em></span>
                        <input matInput [matDatepicker]="dateUntilDate" name="dateUntilDate" id="dateUntilDate"
                            placeholder="Seleccione la fecha" class="ui-inputtext border" required [readonly]="true">
                        <mat-datepicker-toggle matSuffix [for]="dateUntilDate" id="dpt-birthdate">
                        </mat-datepicker-toggle>
                        <mat-datepicker #dateUntilDate disabled="false" id="date-pickerDateUntilDate"></mat-datepicker>
                    </div>
                </div>
            </div>
            <br>
            <div class="row " style="justify-content: center;">
                <div class="col-lg-2">
                    <label for="projectMethology">Metodologia del proyecto
                    </label>
                </div>
                <div class="col-lg-3">
                    <textarea class="ui-inputtext col-10 border " name="textProjectMethology"
                        id="textProjectMethology"></textarea>
                </div>
                <div class="col-lg-2">
                    <label for="deliverys">Entregables
                    </label>
                </div>
                <div class="col-lg-3">
                    <div class="table-responsive-xl">
                        <table id="tbl-list" class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th scope="col" class="colActions">
                                        <input type="checkbox" name="chk-all" id="chk-all" [(ngModel)]="selectedAll"
                                            (change)="toggleAll(createProjectForm)"> Seleccionar
                                    </th>
                                    <th scope="col">Nombre entregable</th>
                                    <th scope="col">Tipo entregable</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let delivery of deliveriesList">
                                    <th scope="row" class="text-center">
                                        <input type="checkbox" name="chk-{{delivery.deliveryId}}"
                                            id="chk-{{delivery.deliveryId}}" [(ngModel)]="delivery.isSelected"
                                            (change)="checkIfAllSelected(createProjectForm)">
                                    </th>
                                    <td>{{delivery.deliveryName}}</td>
                                    <td>{{delivery.deliveryType}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <br>
            <div class="row " style="justify-content: center;">
                <div class="col-lg-2">
                    <label for="researchTypology">Tipologia de investigación
                    </label>
                </div>
                <div class="col-lg-3">
                    <select name="selectDirector" class="select-text" required>
                        <option class="dropdown-item" disabled selected value="undefined"></option>
                        <option *ngFor="let option of researchTypologys;let x = index" class="dropdown-item">
                            {{option.typologyDescription}}
                        </option>
                    </select>
                </div>
                <div class="col-lg-2">
                    <label for="state">Estado
                    </label>
                </div>
                <div class="col-lg-3">
                    <select name="selectState" class="select-text" required>
                        <option class="dropdown-item" disabled selected value="undefined"></option>
                        <option *ngFor="let option of statesList;let x = index" class="dropdown-item">
                            {{option.stateName}}
                        </option>
                    </select>
                </div>
            </div>
            <br>
            <div class="row ">
                <div class="col-lg-6" style="text-align: right;">
                    <button class="btn btn-info btn btn-space"
                        style="border-color:#999999;background-color: #999999;color: white;box-shadow: none"
                        id="cleanBtn" name="cleanBtn" type="button">
                        Limpiar
                    </button>
                </div>
                <div class="col-lg-6">
                    <button class="btn btn-info btn btn-space" [disabled]="!createProjectForm.form.valid"
                        style="border-color:#999999;background-color: #999999;color: white;box-shadow: none"
                        id="cleanBtn" name="cleanBtn" type="button">
                        Crear proyecto
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>